<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="1024" height="768"
        style="border:1px solid #d3d3d3;">
  Your browser does not support the canvas element.
</canvas>

<script>
    var size=40;
    var arr = [{x:100,y:200},{x:140,y:240},{x:100,y:240}, {x:60,y:200}, {x:100,y:160} ];
    var lines = {};
    for(var a in arr) {
        var a1 = {
            'from': {x: arr[a].x-20,   y: arr[a].y-20},
            'to': {x: arr[a].x+20,   y: arr[a].y-20}};
        if(lines.hasOwnProperty([a1])){
            lines[{
                'from': {x: arr[a].x - 20, y: arr[a].y - 20},
                'to': {x: arr[a].x + 20, y: arr[a].y - 20}
            }
                ] = 'red';
        }
        else {
            lines[{
                'from': {x: arr[a].x - 20, y: arr[a].y - 20},
                'to': {x: arr[a].x + 20, y: arr[a].y - 20}
            }
                ] = 'black';
        };

        if (lines.hasOwnProperty( {
            'from': {x: arr[a].x-20,   y: arr[a].y-20},
            'to': {x: arr[a].x-20,   y: arr[a].y+20}})){
            lines[{
                'from': {x: arr[a].x-20,   y: arr[a].y-20},
                'to': {x: arr[a].x-20,   y: arr[a].y+20}}] = 'red';
        }
        else {
            lines.set[{
                'from': {x: arr[a].x-20,   y: arr[a].y-20},
                'to': {x: arr[a].x-20,   y: arr[a].y+20}}] = 'black';
        }

//        lines.push( {
//            'from': {x: arr[a].x+20,   y: arr[a].y-20},
//            'to': {x: arr[a].x+20,   y: arr[a].y+20}});
//
//        lines.push( {
//            'from':{x: arr[a].x-20,   y: arr[a].y+20},
//            'to':{x: arr[a].x+20,   y: arr[a].y+20}});
    }


    var uniqueLines =lines;

    console.log(uniqueLines.length)

    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    for(var uL in uniqueLines){
        console.log(uL)
//        ctx.strokeStyle = uniqueLines[uL];
//        ctx.moveTo(uL['from'].x, uL['from'].y);
//        ctx.lineTo(uL['to'].x, uL['to'].y);
//        ctx.stroke();
    }



</script>

</body>
</html>
